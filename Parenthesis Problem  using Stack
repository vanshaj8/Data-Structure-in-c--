#include<iostream>
#include<string.h>
using namespace std;
char stack[100];
int top=-1;

void push(char x)
{
	top=top+1;
	stack[top]=x;
}

void pop(char t)
{
	if(t=='}')
	{
		if(stack[top]=='{')
		{
			top=top-1;
		}
		
		// the  parenthesis {} is complete 
	}
	else if(t==')')
	{
		if(stack[top]=='(')
		{
			top=top-1;
		}
		// the parenthesis is complete
	}
	else if(t==']')
	{
		if(stack[top]=='[')
		{
			top=top-1;
		}
		// the parenthesis is complete
	}
	
}

void display()
{
	if(top==-1)
	{
		cout<<"YES";
	}
	else if(top==0)
	{
		cout<<"NO";
	}
	else
	{
		cout<<"NO";
	}
}

void perform()
{
	char str[100],x,t;
	cin>>str;
	int k,i;
	k=strlen(str);

	for(i=0;i<k;i++)
	{
		if(str[i]=='{'||str[i]=='['||str[i]=='(')
		{
			x=str[i];
			push(x);
		}
		else if(str[i]=='}'||str[i]==']'||str[i]==')')
		{
			t=str[i];
			pop(t);
		}

	}
	


	
}

int main()
{
	int n;
	cin>>n;
	int i;

	for(int i=0;i<n;i++)
	{
		perform();
		display();
		cout<<"\n";
	}
	
	return 0;
}






















